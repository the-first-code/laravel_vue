(function(){"use strict";var t={5663:function(t,e,a){a(4114);var n=a(5471),l=a(5353),i=a(4335),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t._m(0),t._l(t.cruds,(function(a){return e("CrudComponent",t._b({key:a.id,on:{update:t.update,del:t.del,updateName:t.updateName}},"CrudComponent",a,!1))})),e("div",[e("button",{staticClass:"add-btn",attrs:{type:"button"},on:{click:t.create}},[t._v("Добавить")])]),e("linksPaginate",{on:{paging:t.paging}})],2)},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"heading"},[e("h1",[t._v("Пришельцы")])])}],u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper clearfix"},[e("div",{staticClass:"left-crud"},[e("img",{staticClass:"left-crud__img",attrs:{src:t.image,alt:""}})]),e("div",{staticClass:"right-crud"},[e("div",{staticClass:"right-crud__header"},[t._v("Имя: "),e("span",{staticClass:"crud-name",staticStyle:{display:"input"},on:{dblclick:t.updateName}},[t._v(t._s(t._f("ProperCase")(t.name)))]),e("input",{staticClass:"right-crud__input",staticStyle:{display:"none"},attrs:{type:"text"},domProps:{value:t._f("ProperCase")(t.name)},on:{change:t.updateAx,blur:t.updateAx}})]),e("div",{staticClass:"right-crud__row"},[e("select",{staticClass:"crud-select",on:{change:t.update}},t._l(["red","green"],(function(a,n){return e("option",{key:n,domProps:{value:a,selected:a===t.color?"selected":""}},[t._v(" "+t._s(t.colorPicker(a))+" ")])})),0),e("button",{staticClass:"del-btn",attrs:{type:"button"},on:{click:t.del}},[t._v("Удалить")])])])])},o=[],c={name:"CrudComponent",data:function(){return{showSpan:"input",showInp:"none"}},props:["id","color","name"],filters:{ProperCase(t){return t.charAt(0).toUpperCase()+t.slice(1)}},computed:{image(){return"assets/app/images/"+this.color+".png"}},methods:{update(t){let e;e=this.$store.state.links.find((t=>null!=t.url&&"..."!=t.label&&!0===t.active)).label,this.$emit("update",this.id,t.target.selectedOptions[0].value,e)},del(){let t;t=this.$store.state.links.find((t=>null!=t.url&&"..."!=t.label&&!0===t.active)).label,this.$emit("del",this.id,t)},updateName(t){t.target.style.display="none",t.target.nextElementSibling.style.display="inline-block",t.target.nextElementSibling.focus()},updateAx(t){let e;e=this.$store.state.links.find((t=>null!=t.url&&"..."!=t.label&&!0===t.active)).label,this.$emit("updateName",this.id,t.target.value,e),t.target.style.display="none",t.target.previousElementSibling.style.display="inline-block"},colorPicker(t){return"red"===t?"Красный":"green"===t?"Зеленый":void 0}}},d=c,p=a(1656),g=(0,p.A)(d,u,o,!1,null,"64a88295",null),m=g.exports,h=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"paginate"},t._l(this.$store.state.links,(function(a,n){return e("a",{key:n,class:{"paginate__span-prev":null===a.url&&"..."!=a.label&&!1===a.active&&0===n,"paginate__link-prev":null!=a.url&&"..."!=a.label&&!1===a.active&&0===n,"paginate__link-active":null!=a.url&&"..."!=a.label&&!0===a.active,paginate__link:null!=a.url&&"..."!=a.label&&!1===a.active&&n!=t.linksLength-1,paginate__dots:null===a.url&&"..."===a.label,"paginate__link-next":null!=a.url&&n===t.linksLength-1,"paginate__span-next":null===a.url&&n===t.linksLength-1},attrs:{disabled:null===a.url&&"..."!=a.label&&!1===a.active&&0===n||null!=a.url&&"..."!=a.label&&!0===a.active||null===a.url&&"..."===a.label||null===a.url&&n===this.$store.state.links.length-1},domProps:{innerHTML:t._s(a.label)},on:{click:function(e){return t.paging(a,n)}}})})),0)},f=[],v=(a(4603),a(7566),a(8721),{name:"linksPaginate",data:function(){return{linksLength:this.$store.state.links.length}},computed:{},methods:{paging(t,e){if(null===t.url&&"..."!=t.label&&!1===t.active&&0===e||null!=t.url&&"..."!=t.label&&!0===t.active||null===t.url&&"..."===t.label||null===t.url&&e===this.$store.state.links.length-1)return;let a;null!=t.url&&(a=Number(new URL(t.url).searchParams.get("page"))),this.$emit("paging",a)}}}),b=v,_=(0,p.A)(b,h,f,!1,null,null,null),k=_.exports,y={name:"App",components:{CrudComponent:m,linksPaginate:k},computed:{cruds(){return this.$store.state.cruds}},methods:{create(){let t;t=this.$store.state.links.find((t=>null!=t.url&&"..."!=t.label&&!0===t.active)).label,this.$store.dispatch("create",t)},update(t,e,a){let n={id:t,color:e,pageNumb:a};this.$store.dispatch("update",n)},del(t,e){let a={id:t,pageNumb:e};this.$store.dispatch("del",a)},updateName(t,e,a){let n={id:t,name:e,pageNumb:a};this.$store.dispatch("updateName",n)},paging(t){this.$store.dispatch("paging",t)}},created(){this.paging()}},w=y,C=(0,p.A)(w,s,r,!1,null,null,null),$=C.exports;function A({id:t,color:e,name:a}){this.id=t,this.color=e,this.name=a}function N({url:t,label:e,active:a}){this.url=t,this.label=e,this.active=a}n.Ay.config.productionTip=!1,n.Ay.use(l.Ay);const x=new l.Ay.Store({state:{cruds:[],links:[],mute:!1},mutations:{async create(t,e){t.mute=!0;const{data:a}=await i.A.get(`/api/cruds/create?page=${e}`);t.cruds.length<5&&t.cruds.push(new A(a.data.at(-1))),t.links=[],a.links.forEach((e=>t.links.push(new N(e)))),t.mute=!1},async update(t,e){t.mute=!0;let a=e.color,n=e.id,l=e.pageNumb;await i.A.put(`/api/cruds/${n}?page=${l}`,{color:a}),t.cruds.find((t=>t.id===n)).color=a,t.mute=!1},async del(t,e){t.mute=!0;let a=e.id,n=e.pageNumb;const{data:l}=await i.A.get(`/api/cruds/delete/${a}?page=${n}`);t.cruds=[],t.links=[],l.data.forEach((e=>t.cruds.push(new A(e)))),l.links.forEach((e=>t.links.push(new N(e)))),t.mute=!1},async updateName(t,e){t.mute=!0;let a=e.name,n=e.id,l=e.pageNumb;const{data:s}=await i.A.put(`/api/cruds/update/${n}?page=${l}`,{name:a});t.cruds.find((t=>t.id===n)).name=s.data.find((t=>t.id===n)).name,t.mute=!1},async paging(t,e){t.mute=!0;const{data:a}=await i.A.get(`/api/cruds/paging/?page=${e}`);t.cruds=[],t.links=[],a.data.forEach((e=>t.cruds.push(new A(e)))),a.links.forEach((e=>t.links.push(new N(e)))),t.mute=!1}},actions:{create({commit:t},e){t("create",e)},update({commit:t},e){t("update",e)},del({commit:t},e){t("del",e)},updateName({commit:t},e){t("updateName",e)},paging({commit:t},e){t("paging",e)}}});new n.Ay({el:"#app",components:{App:$},render:t=>t($),store:x,computed:{mute(){return x.state.mute}},watch:{mute(t){document.getElementById("mute").className=t?"on":""}}})}},e={};function a(n){var l=e[n];if(void 0!==l)return l.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,n,l,i){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],l=t[c][1],i=t[c][2];for(var r=!0,u=0;u<n.length;u++)(!1&i||s>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[u])}))?n.splice(u--,1):(r=!1,i<s&&(s=i));if(r){t.splice(c--,1);var o=l();void 0!==o&&(e=o)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[n,l,i]}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var l,i,s=n[0],r=n[1],u=n[2],o=0;if(s.some((function(e){return 0!==t[e]}))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(u)var c=u(a)}for(e&&e(n);o<s.length;o++)i=s[o],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},n=self["webpackChunkapp"]=self["webpackChunkapp"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(5663)}));n=a.O(n)})();
//# sourceMappingURL=app.68bc30cc.js.map